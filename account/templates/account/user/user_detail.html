<!-- user detail page to be created here-->
{% extends "base.html" %}

{% load static %}

{% block title %} {{ user.get_username }} {% endblock %}

{% block content %}

<!-- <div class="container text-center">
  <div class="row">
    <div class="col">
      {% if user.profile.profile_pic %}
      <div>
          <img src="{{ user.profile.profile_pic.url }}"
              alt="Profile Picture" class="profile-pic"><br>
      {% else %}
          <img src="{% static 'images/default_profile_pic.png' %}"
              alt="Profile Picture" class="profile-pic"><br>
      {% endif %}
      </div>
      <h1>{{ user.profile.user }}</h1>
    </div>
    <div class="col">
          <div class="row">
            <p>Post count: {{ user_post_count }}</p>
          </div>
          <div>
            <p>Following: {{ user_following_count }}</p>
          </div>
          <div class="row">
            <p>Followers: {{ user_followers_count }}</p>
          </div>  
    </div>
    <div class="col">
      {% if user.username != request.user.username %}
                            {% if user_following_status %}
                              <a href="{% url 'follow_user' user %}" class="btn btn-primary" role="button">Unfollow</a>
                            {% else %}
                              <a href="{% url 'follow_user' user %}" class="btn btn-primary" role="button">Follow</a>
                            {% endif %}    
                        {% endif %}
  </div>
</div> -->

<div class="container text-center">
  <div class="row" style="border: solid">
    <div class="col" style="border: solid; margin: 5px;">
      {% if user.profile.profile_pic %}
          <img src="{{ user.profile.profile_pic.url }}"
              alt="Profile Picture" class="profile-pic"><br>
      {% else %}
          <img src="{% static 'images/default_profile_pic.png' %}"
              alt="Profile Picture" class="profile-pic"><br>
      {% endif %}
      {% if user.username != request.user.username %}
      {% if user_following_status %}
        <a href="{% url 'follow_user' user %}" class="btn btn-primary" role="button">Unfollow</a>
      {% else %}
        <a href="{% url 'follow_user' user %}" class="btn btn-primary" role="button">Follow</a>
      {% endif %}    
  {% endif %}
    </div>
    <div class="col" style="border: solid">
        <div class="row" style="border:solid">
                  <div class="row">
                    <p>Post count: {{ user_post_count }}</p>
                  </div>
                  <div>
                    <p>Following: {{ user_following_count }}</p>
                  </div>
                  <div class="row">
                    <p>Followers: {{ user_followers_count }}</p>
                  </div>
        </div> 
        <div class="row" style="border:solid; flex-grow: 1;">
          BIO
        </div> 
    </div>
  </div>
</div>


<!-- 
<div class="container site-margin">
  <div class="row">
      <div class="col-sm">
                        {% if user.profile.profile_pic %}
                        <div>
                            <img src="{{ user.profile.profile_pic.url }}"
                                alt="Profile Picture" class="profile-pic"><br>
                        {% else %}
                            <img src="{% static 'images/default_profile_pic.png' %}"
                                alt="Profile Picture" class="profile-pic"><br>
                        {% endif %}
                        </div>
                        <div>
                        <h1>{{ user.profile.user }}</h1>
                        </div>
      </div>
      <div class="col-sm">
                    <div class="row">
                      <p>Post count: {{ user_post_count }}</p>
                    </div class="row">
                    <div>
                      <p>Following: {{ user_following_count }}</p>
                    </div>
                    <div class="row">
                      <p>Followers: {{ user_followers_count }}</p>
                    </div>          
      </div>
      <div class="col-sm">
                        {% if user.username != request.user.username %}
                            {% if user_following_status %}
                              <a href="{% url 'follow_user' user %}" class="btn btn-primary" role="button">Unfollow</a>
                            {% else %}
                              <a href="{% url 'follow_user' user %}" class="btn btn-primary" role="button">Follow</a>
                            {% endif %}    
                        {% endif %}
      </div>
  
    </div>
</div> -->

<div class='row card-group site-margin'>
    {% for post in user_posts %}
      <div class="col-12 col-md-6 col-lg-4">
        <div class="card h-100">
          <div class="card-body">
            <a href="{{ post.get_absolute_url }}">
            <img src="{{ post.image.url }}" class="post-pic">
            </a>
            <p class="card-text">
            {{ post.caption }}
            </p>
          </div>
          <div class="card-footer">
            <small class="text-muted">Likes: {{ post.likes }}</small>
          </div>
        </div>
      </div>
    {% endfor %}
    </div>

{% endblock %}


